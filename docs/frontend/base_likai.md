# layout.tsx

## layout.tsx

### (src/app/layout.tsx)

```tsx
import type { Metadata } from "next";
import { Inter } from "next/font/google";
import "../styles/globals.css"; // styles/globals.css を参照
import { AuthProvider } from "@/components/AuthProvider";

const inter = Inter({ subsets: ["latin"] });

export const metadata: Metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};

export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
  return (
    <html lang="ja">
      <body className={inter.className}>
        <AuthProvider>{children}</AuthProvider>
      </body>
    </html>
  );
}
```

この `RootLayout` コンポーネントは、\*\*Next.js App Router（`app/` ディレクトリ構成）\*\*におけるルートレイアウトを定義する特殊なコンポーネントです。
アプリ全体に共通する「HTML 構造・フォント・CSS・認証コンテキスト」などをまとめて管理する役割を持ちます。

---

## ✅ コンポーネントの概要

| ファイル名例                             | 役割                                                                                    |
| ---------------------------------------- | --------------------------------------------------------------------------------------- |
| `app/layout.tsx` または `app/layout.jsx` | 全ページ共通のレイアウト（HTML 構造、Provider、フォント、共通スタイルなど）を定義する。 |

---

## 🔍 各コード行の役割と説明

```tsx
import type { Metadata } from "next";
```

- `Metadata` 型をインポート。
- この型を使うことで、`metadata` オブジェクトに型安全にタイトルや説明を設定できる。

---

```tsx
import { Inter } from "next/font/google";
```

- Google Fonts の `Inter` フォントを Next.js 専用に読み込む。
- Next.js のフォント最適化機能（`next/font`）を活用しており、自動的に `font-display: swap` やサブセットが効く。

---

```tsx
import "../styles/globals.css";
```

- グローバルスタイル（全体に適用する CSS）を読み込む。
- Tailwind CSS や共通の CSS リセットなどが含まれることが多い。

---

```tsx
import { AuthProvider } from "@/components/AuthProvider";
```

- 認証コンテキスト（ログイン状態など）を提供する Provider コンポーネント。
- アプリ全体で `useAuth()` などを使えるようにするため、ここでラップする。

---

```tsx
const inter = Inter({ subsets: ["latin"] });
```

- `Inter` フォントを設定し、CSS クラスを取得する。
- `inter.className` を `<body>` に渡すことで、そのフォントが全体に適用される。

---

```tsx
export const metadata: Metadata = {
  title: "Create Next App",
  description: "Generated by create next app",
};
```

- ページの `<head>` に挿入されるメタデータを定義。
- App Router では `metadata` という変数名でエクスポートすると、自動的に HTML メタ情報として反映される。

---

### 🔁 `RootLayout` 関数本体の説明

```tsx
export default function RootLayout({
  children,
}: Readonly<{
  children: React.ReactNode;
}>) {
```

- `RootLayout` はアプリ全体の共通レイアウトを定義する関数コンポーネント。
- `children` にはページごとのコンポーネント（`page.tsx`など）が動的に渡される。

---

### 📦 return 内の構造

```tsx
return (
  <html lang="ja">
    <body className={inter.className}>
      <AuthProvider>{children}</AuthProvider>
    </body>
  </html>
);
```

- `<html lang="ja">`：HTML 文書の言語を日本語に指定。
- `<body className={inter.className}>`：読み込んだ Google フォント `Inter` を全体に適用。
- `<AuthProvider>{children}</AuthProvider>`：認証状態を管理するプロバイダーで全体をラップ。ログイン・ログアウト・認証情報取得などが可能に。

---

## ✅ 全体の役割まとめ

| 機能              | 説明                                              |
| ----------------- | ------------------------------------------------- |
| HTML のベース構造 | `<html>`, `<body>` を明示的に定義（lang 属性も）  |
| グローバル CSS    | `globals.css` でアプリ全体の共通スタイル適用      |
| Google Fonts      | `Inter` フォントを効率的に読み込んで使用          |
| 認証状態の共有    | `AuthProvider` により全ページでログイン状態を管理 |
| メタ情報設定      | タイトル・説明などを `metadata` 経由で設定可能    |

---

## 🧠 補足

- `RootLayout` は \*\*すべてのページ・ルートに適用されるため、「アプリの枠組み」\*\*を定義する場所です。
- ページごとのレイアウトを変えたい場合は、`app/xxx/layout.tsx` という構成で**ネストレイアウト**も可能です。

---
